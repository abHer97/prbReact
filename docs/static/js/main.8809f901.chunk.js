(this["webpackJsonptail-react"]=this["webpackJsonptail-react"]||[]).push([[0],{15:function(e,t,a){},19:function(e,t,a){e.exports=a(41)},24:function(e,t,a){},25:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(10),c=a.n(l),o=(a(15),a(24),a(25),function(){return n.a.createElement("nav",{className:"bg-green-500 px-4 pt-4 mb-6"},n.a.createElement("div",{className:"container mx-auto flex"},n.a.createElement("a",{className:"mr-6 font-semibold text-xl tracking-tight text-white"},"Inicio"),n.a.createElement("ul",{className:"flex"},n.a.createElement("li",{className:"-mb-px mr-1"},n.a.createElement("a",{className:"bg-gray-300 inline-block border-l border-gray-300 border-t border-r rounded-t py-2 px-4 text-green-500 font-semibold"},"Productores")),n.a.createElement("li",{className:"mr-1"},n.a.createElement("a",{className:"inline-block py-2 px-4 text-white hover:text-green-800 font-semibold"},"Camiones")),n.a.createElement("li",{className:"mr-1"},n.a.createElement("a",{className:"inline-block py-2 px-4 text-white hover:text-green-800 font-semibold"},"Ranchos")),n.a.createElement("li",{className:"mr-1"},n.a.createElement("a",{className:"inline-block py-2 px-4 text-white hover:text-green-800 font-semibold"},"Fruta")))))}),s=a(7),i=a(4),m=a(5),u=a(11),d=a.n(u),p=a(2),b=a(3),f=a(6),E=a.n(f),x=a(13),g=new Headers({Authorization:"Bearer "+localStorage.Token,"Content-Type":"application/json; charset=utf-8"});function N(){return(N=Object(x.a)(E.a.mark((function e(t,a){var r,n,l,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],n={},n=r?{method:a,headers:g,body:JSON.stringify(r)}:{method:a,headers:g},e.next=5,fetch(t,n).then(function(){var e=Object(x.a)(E.a.mark((function e(t){var a,n,l,c,o,s,i,m;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==(a=t.status)&&201!==a){e.next=16;break}return e.next=4,t.json();case 4:if(n=e.sent,console.log(r),r){e.next=12;break}return l=n.mensaje,c=n.productores,o=c.map((function(e){return{folio:e.folio,id:e.id,idTipo:e.idTipo,productor:e.productor,tipo:e.tipo}})),e.abrupt("return",{status:a,mensaje:l,detalles:"",data:o});case 12:return s=n.mensaje,i=n.detalles,e.abrupt("return",{status:a,mensaje:s,detalles:i||"",data:{}});case 14:e.next=31;break;case 16:m={status:a,mensaje:"",detalles:"",data:{}},e.t0=a,e.next=400===e.t0?20:401===e.t0?22:404===e.t0?24:500===e.t0?26:28;break;case 20:return m.mensaje="Campos requeridos vacios",e.abrupt("break",30);case 22:return m.mensaje="No cuentas con permisos para realizar esta acci\xf3n",e.abrupt("break",30);case 24:return m.mensaje="Recursos no encontrados, parametros inv\xe1lidos",e.abrupt("break",30);case 26:return m.mensaje="Error interno del servidor, Favor de comunicarse con el area de soporte info@siticl.com",e.abrupt("break",30);case 28:return m.mensaje="Ha ocurrido un error, intente de nuevo m\xe1s tarde",e.abrupt("break",30);case 30:return e.abrupt("return",m);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return l=e.sent,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(e,t){return N.apply(this,arguments)},v="https://siticl-apis-dev.azurewebsites.net/empresas/prueba/v1/catalogos/productores/";d.a.setAppElement("#root");var y=function(){var e=Object(r.useState)({status:0,mensaje:"",detalles:"",data:{},loading:!0}),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)({folio:"",id:"",idTipo:"",productor:"",tipo:""}),o=Object(m.a)(c,2),u=o[0],f=o[1],E=Object(r.useState)(!1),x=Object(m.a)(E,2),g=x[0],N=x[1],y=Object(r.useState)(!1),j=Object(m.a)(y,2),w=j[0],k=j[1],O=Object(r.useState)(!1),C=Object(m.a)(O,2),T=C[0],S=C[1],P=Object(r.useState)(""),B=Object(m.a)(P,2),F=B[0],_=B[1];function D(e){console.log(e),f(e),_(e.idTipo),N(!0)}function A(){return{folio:u.folio,productor:u.productor,idTipo:F}}Object(r.useEffect)((function(){h(v,"GET").then((function(e){l({status:e.status,mensaje:e.mensaje,detalles:e.detalles,data:e.data,loading:!1})}))}),[w]);var I=function(e){var t=e.target,a=t.name,r=t.value;f((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(s.a)({},a,r))}))},R=function(e){e&&e.preventDefault(),f({folio:"",id:"",idTipo:"",productor:"",tipo:""}),N(!1),_(""),k(!w)},q=function(){S(!T)};return n.a.createElement("main",{className:"container flex-grow mx-auto bg-white rounded-t flex"},n.a.createElement("aside",{className:"w-2/6 px-6 py-4"},n.a.createElement("form",null,n.a.createElement("div",{className:"w-full mb-4 relative"},n.a.createElement("label",{className:"text-sm text-gray-500"},"Folio:"),n.a.createElement("input",{id:"txtFolio",name:"folio",value:u.folio,onChange:I,className:"w-full h-8 pl-8 border-b border-gray-500"}),n.a.createElement(p.a,{className:"input-prefix text-gray-600",icon:b.a})),n.a.createElement("div",{className:"w-full my-8 relative"},n.a.createElement("label",{className:"text-sm text-gray-500"},"Productor:"),n.a.createElement("input",{id:"txtProductor",name:"productor",value:u.productor,onChange:I,className:"w-full h-8 pl-8 border-b border-gray-500 rounded-t-md"}),n.a.createElement(p.a,{className:"input-prefix text-gray-600",icon:b.h})),n.a.createElement("div",{className:"w-full my-8 relative"},n.a.createElement("label",{className:"text-sm text-gray-500"},"Tipo:"),n.a.createElement("select",{name:"tipo",value:F.toUpperCase(),onChange:function(e){_(e.target.value)},className:"w-full h-8 pl-8 border-b border-gray-500"},n.a.createElement("option",{disabled:!0,value:""},"-- Seleccionar ---"),n.a.createElement("option",{value:"48FE2712-D019-4861-AB18-95B882F3B54E"},"PROVEEDOR"),n.a.createElement("option",{value:"4AE9C33F-1359-4174-8F6E-D36A2AB48B7A"},"RANCHO")),n.a.createElement(p.a,{className:"input-prefix text-gray-600",icon:b.c})),g?n.a.createElement("button",{onClick:function(e){e.preventDefault();var t=A();!function(e,t){h("".concat(v,"/").concat(e),"PUT",t).then((function(e){200===e.status?R():l((function(t){return Object(i.a)(Object(i.a)({},t),{},{status:e.status,mensaje:e.mensaje,detalles:e.detalles})}))}))}(u.id,t)},className:"w-1/2 py-4 rounded-l-lg bg-blue-500 text-white border-2 border-blue-700"},"Editar ",n.a.createElement(p.a,{icon:b.d,className:"text-white ml-2"})):n.a.createElement("button",{onClick:function(e){e.preventDefault(),function(e){h(v,"POST",e).then((function(e){201===e.status?(k(!w),R()):l((function(t){return Object(i.a)(Object(i.a)({},t),{},{status:e.status,mensaje:e.mensaje,detalles:e.detalles})}))}))}(A())},className:"w-1/2 py-4 rounded-l-lg bg-green-500 text-white border-2 border-green-700"},"Nuevo ",n.a.createElement(p.a,{icon:b.e,className:"text-white ml-2"})),n.a.createElement("button",{onClick:R,className:"w-1/2 py-4 rounded-r-lg text-orange-800 border-2 border-orange-800"},"Limpiar",n.a.createElement(p.a,{icon:b.b,className:"text-orange-800 ml-2"})))),n.a.createElement("article",{className:"w-4/6 px-6 py-4"},n.a.createElement("h2",{className:"text-center text-3xl"},"Lista de productores"),n.a.createElement("div",{className:"w-2/4 mb-4 flex"},n.a.createElement("div",{className:"w-5/6 relative"},n.a.createElement("label",{className:"text-sm text-gray-500"},"Busque un productor"),n.a.createElement("input",{id:"txtProductorBuscar",name:"productor",className:"w-full h-8 pl-8 border-b border-gray-500 rounded-t-md inline-block"}),n.a.createElement(p.a,{className:"input-prefix text-gray-600",icon:b.h})),n.a.createElement("button",{onClick:function(e){e.preventDefault(),l({status:0,mensaje:"",detalles:"",data:{},loading:!1})},className:"py-2 px-3 bg-gray-300 h-10 w-12 mt-auto"},n.a.createElement(p.a,{icon:b.f,className:"text-black text-xl"}))),n.a.createElement("div",{className:"overflow-y-scroll tblProductores border-b border-black relative"},n.a.createElement("table",{id:"tblProductores",className:"my-table"},n.a.createElement("thead",{id:"tbthProductores",className:"text-white"},n.a.createElement("tr",null,n.a.createElement("th",{className:"hidden"},"Id"),n.a.createElement("th",{className:"w-1/6 text-left pl-2 bg-gray-800 sticky top-0 shadow-lg"},"Folio"),n.a.createElement("th",{className:"w-3/6 text-left pl-2 bg-gray-800 sticky top-0 shadow-lg"},"Productor"),n.a.createElement("th",{className:"hidden"},"IdTipo"),n.a.createElement("th",{className:"w-2/6 text-left pl-2 bg-gray-800 sticky top-0 shadow-lg"},"Tipo"),n.a.createElement("th",{className:"w-10 text-left bg-gray-800 sticky top-0 shadow-lg cEliminar"}))),n.a.createElement("tbody",{id:"tblProdBody"},a.loading?n.a.createElement("tr",null,n.a.createElement("td",{className:"animate__animated animate__flash animate__infinite text-center",colSpan:"5"},"Cargando...")):200===a.status||201===a.status?a.data.map((function(e){var t=e.folio,a=e.id,r=e.idTipo,l=e.productor,c=e.tipo;return n.a.createElement("tr",{className:"animate__animated animate__fadeIn hover:bg-gray-300",key:a,onClick:function(){D({folio:t,id:a,idTipo:r,productor:l,tipo:c})}},n.a.createElement("td",{className:"hidden"},a),n.a.createElement("td",{className:"p-1 pl-2"},t),n.a.createElement("td",{className:"p-1 pl-2"},l),n.a.createElement("td",{className:"hidden"},r),n.a.createElement("td",{className:"p-1 pl-2"},c),n.a.createElement("td",{className:"p-1"},n.a.createElement(p.a,{onClick:function(){D(e),S(!T),q()},icon:b.g,className:"text-red-700 text-2xl mt-1"})))})):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5",className:"text-center"},"".concat(a.mensaje," ").concat(a.detalles))))))),n.a.createElement(d.a,{isOpen:T,className:"modal"},n.a.createElement("h2",{className:"text-3xl text-center"},"Eliminar productor"),n.a.createElement("hr",null),n.a.createElement("p",{className:"my-4"},"\xbfSeguro que desea eliminar al productor"," ",n.a.createElement("span",{className:"italic font-bold"},u.productor)," de tipo"," ",n.a.createElement("span",{className:"italic font-bold"},u.tipo),"?"),n.a.createElement("div",{className:"flex flex-row-reverse"},n.a.createElement("button",{onClick:function(e){var t;e.preventDefault(),t=u.id,h("".concat(v,"/").concat(t),"DELETE",{}).then((function(e){console.log(e),200===e.status?(S(!T),R()):l((function(t){return Object(i.a)(Object(i.a)({},t),{},{status:e.status,mensaje:e.mensaje,detalles:e.detalles})}))}))},className:"w-32 py-2 rounded-lg bg-red-500 text-white border-2 border-red-700 ml-2"},"Eliminar"),n.a.createElement("button",{onClick:q,className:"w-32 py-2 rounded-lg bg-gray-300 border-2 border-gray-500"},"Cancelar"))))},j=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(o,null),",",n.a.createElement(y,null))};c.a.render(n.a.createElement(j,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.8809f901.chunk.js.map